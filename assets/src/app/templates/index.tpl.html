<div class="modal fade" id="removetemplateModal" tabindex="-1" role="dialog" aria-labelledby="removetemplatesModalLabel" aria-hidden="true">
  <div class="modal-dialog ">
    <div class="modal-content">
      <div class="modal-header">
        <h2>删除数据集？</h2>
      </div>
      <div class="modal-body">
        <div class="alert alert-warning">确定删除数据集？</div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-success" type="button" data-dismiss="modal" ng-click="confirmRemoveTemplate()">删除</button>
        <button class="btn btn-default" data-dismiss="modal" type="button">取消</button>
      </div>
    </div>
  </div>
</div>



<div class="container-fluid">
  <div class="row-fluid">
    <div class="col-md-3">
      <div class="panel panel-default panel-primary">
 	<div class="panel-heading "><!--标题头-->
	  <div class="row">
            <div class="col-md-11">
              <label  class="label label-info">
                <span class="glyphicon glyphicon-th-list" aria-hidden="true"></span>
                目录
              </label>
            </div>
          </div>
        </div>
        <div class="scrollbar">
          <div class="panel-group" id="lv1-dir" role="tablist" aria-multiselectable="true">
            <div class="panel panel-default" ng-repeat="catalog in catalogs" >
              <div class="panel-heading" role="tab" id={{"catalog-"+catalog.id}}  ng-mouseenter="btnShow=true" ng-mouseleave="btnShow=false"  ng-init="btnShow=false">
                <div class="container-fluid row"><!--目录-->
                  <div class="col-md-8">
                    <h4 class="panel-title">
                      <a data-toggle="collapse" data-parent="#lv1-dir" data-target={{"#lv1-b-"+catalog.id}}  aria-expanded="false" aria-controls={{"lv1-b-"+catalog.id}}>
                        <span class="glyphicon glyphicon-folder-close"></span>
                        {{catalog.name}}
                      </a>
                    </h4>
                  </div>
                  <div class="col-md-1" ng-show="btnShow&&(currentUser.isadmin=='true')"> <!--按钮-->
	            <div class="btn-group">
	              <a class="btn btn-primary btn-xs" ng-click="editCatalog(catalog.id,catalog.name)">
                        <span class="glyphicon glyphicon-edit"></span>
	              </a>
	            </div>
	          </div>
                  <div class="col-md-offset-11">
                    <span class="badge pull-right">{{catalog.items.length}}</span>
                  </div>
                </div>
              </div>
              <div id={{"lv1-b-"+catalog.id}} class="panel-collapse collapse" role="tabpanel" aria-labelledby={{"catalog-"+catalog.id}}>
                <div class="list-group">
                  <a class="list-group-item" href="" ng-click="templatemodal(item)" ng-repeat="item in catalog.items">
                    <div class="col-md-offset-1"><span class="glyphicon glyphicon-file"></span>
                      {{item.name}}</div>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!---右边-->
    <div class="col-md-9">
      <div class="panel panel-default panel-primary">
        <div class="panel-heading">
          <div class="row">
	    <div class="col-md-1">
              <button class="btn btn-success" ng-click="uploadmodal()" type="button" ng-show="currentUser.isadmin=='true'">
                <span class="glyphicon glyphicon-upload"></span>
                <span class="label label-success">
                  上传
                </span>
              </button>
            </div>
            <div class="col-md-4 col-md-offset-7">
	      <input type="text" class="form-control" placeholder="Search for..." ng-model="query" />
	    </div><!-- /input-group -->
          </div>
        </div>

        <div class=" scrollbar">
          <table class=" table table-striped table-bordered table-hover table-responsive table-condensed" id="templates_table">
            <thead>
              <tr>
                <th class="sorting">模板名称</th>
                <th class="sorting">模板说明与描述</th>
	        <th class="sorting">模板创建时间</th>
                <th >公开(不公开)</th>
              </tr>
            </thead>

            <tbody>
              <tr ng-repeat="template in templates.data|filter:search">
                <td ng-mouseenter="btnShow=true" ng-mouseleave="btnShow=false" ng-init="btnShow=false">
                  <a href="" ng-click="templatemodal(template)" data-remote="true">{{template.name}}</a>
                  <div class=" pull-right" ng-show="btnShow&&(currentUser.isadmin=='true')"> <!--按钮-->
	            <div class="btn-group">
	              <a class="btn btn-primary btn-xs" ng-click="removetemplate(template)" data-target="#removetemplateModal" data-toggle="modal">
                        <span class="glyphicon glyphicon-trash"></span>
	              </a>
	            </div>
	          </div>
                </td>
                <td class="visible-desktop description">
                  <div class="check-height">{{template.description}}</div>
                </td>
	        <td>
	          <div><span>{{template.createdAt | amDateFormat:'YYYY年MM月DD日 HH:mm:ss'}}</span></div>
                </td>
	        <td>
	          <div class="label" ng-class="{true : 'label-success', false : 'label-warning'}[template.ispublic]">{{template.ispublic ? 'public' : 'private'}}</div>
                </td>
              </tr>
            </tbody>
          </table>

          <div class="panel-footer">
	    <nav>
              <ul class="pager">
                <li> <select ng-options="limit for limit in limits" ng-model="paginator.limit"  ng-change="pageChanged(1)">项/页
                </select></li>
                <li><a ng-click="firstPage()">第一页</a></li>
                <li><a ng-click="prePage()">上一页</a></li>
                <li><a >第 {{ paginator.page }} / {{ paginator.total_pages }}页</a></li>
                <li><a ng-click="nextPage()">下一页</a></li>
                <li><a ng-click="lastPage()">最后一页</a></li>
	      </ul>
	    </nav>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
